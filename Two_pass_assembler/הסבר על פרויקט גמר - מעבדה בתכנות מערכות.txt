מטלה 14
.מטלה זו נכתבה במשותף בידי נויה אלגריסי ואביתר בן דוד

מימשנו את המטלה באופן שונה מן המוצע בחוברת המטלות. נפרט בקצרה על המימוש שבנינו:
פונקציית המיין פועלת במספר איטרציות לא ידוע מראש, בהתאם למספר קבצי הקלט שנכתבו בשורת הפקודה. בכל איטרציה מתבצעת בדיקת שהקובץ אכן מתאים לדרישות (קובץ as) ולאחר מכן המעבר הראשון על הקובץ. במעבר הראשון מתבצעת בנייה של רשימה מקושרת השומרת את הסמלים, קידוד ההוראות במידה והן תקינות לשדה ביטים השומר את ערכן.

לאחר מכן מתבצעת ולידציה לכל שורה בנפרד, הבודקת את תקינות שם הלייבל/פקודה/הוראה, מספר הפרמטרים והאם סוג הפרמטרים תואם להגדרת לייבל/פקודה/הוראה כפי שניתנה במטלה. ביצוע בדיקה באופן זה מאפשר לאבחן שגיאות באופן ספציפי ואינדוקטיבי, ולהבהיר למשתמש מה בדיוק היתה השגיאה שעליו לתקן בקובץ as. במקרה ונמצאה שגיאה היא מתווספת לרשימה מקושרת של שגיאות, אשר לאחר סיום אבחון כל הקובץ תודפס למשתמש.

במקרה ואין שגיאה, מתבצע תהליך קידוד הפקודות ויצירת הקבצים הסופיים. ביצירת קובץ הob מקודדת קודם כל רשימה מקושרת ששמרה את הפקודות, ולאחריה רשימה ששמרה את תמונת הנתונים. קבצי הent והext נוצרים אך ורק כאשר יש להם תוכן.

בסיום הקידוד המערכת משחררת את כל הזיכרון הדינאמי שהוקצה במהלך האיטרציה, ועוברת לטפל בקובץ הקלט הבא שניתן בשורת הפקודה.

חלוקה לקבצים:
חילקנו את הקובץ למספר קבצים, על מנת לשמור על על הכמסת הקוד, וניהול קוד תקין.
ייעדנו קובץ שונה לכל אחת מן המטרות המפורטות: מבני נתונים, קבועים, פונקציות הקידוד, י
צירת הקבצים, פונקציות הולידיצה, פונקציות ניתוח הקלט, ופונ' למניפוציות על מחרוזות.

